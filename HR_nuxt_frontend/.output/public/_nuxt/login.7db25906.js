import{_ as D}from"./AppTextField.vue.badc1057.js";import{d as w,O as M,a as _,b,F as P,A as j,e,w as o,h as B,f as m,V as y,u as F,r as p,I as S,bF as T,q as E,i as s,an as V,bG as g,g as f,t as N,n as R,bH as $,bI as z,as as A}from"./entry.0516b5e8.js";import{V as L}from"./VNodeRenderer.15034708.js";import{a as U}from"./axios.28bc18a3.js";import{u as G}from"./emp.b2d779b9.js";import{V as r}from"./VCol.c943daa7.js";import{V as O,a as v}from"./VCard.c238dd74.js";import{V as q}from"./VForm.b355be77.js";import{V as x}from"./VRow.a53f6339.js";import{V as H}from"./VCheckbox.4655cc64.js";import{V as C}from"./VDivider.c8eb66ff.js";import"./VCheckboxBtn.759eed6f.js";/* empty css              */import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";const W={class:"d-flex justify-center flex-wrap gap-3"},J=w({__name:"AuthProvider",setup(k){const{global:u}=M(),a=[{icon:"fa-facebook",color:"#4267b2",colorInDark:"#4267b2"},{icon:"fa-google",color:"#dd4b39",colorInDark:"#db4437"},{icon:"fa-twitter",color:"#1da1f2",colorInDark:"#1da1f2"}];return(c,i)=>(_(),b("div",W,[(_(),b(P,null,j(a,n=>e(y,{key:n.icon,icon:"",variant:"tonal",size:"38",color:m(u).name.value==="dark"?n.colorInDark:n.color,class:"rounded"},{default:o(()=>[e(B,{size:"18",icon:n.icon},null,8,["icon"])]),_:2},1032,["color"])),64))]))}}),K={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},Q={class:"d-flex align-center justify-center w-100 h-100"},X={class:"text-h4 mb-1"},Y={class:"text-capitalize"},Z=s("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),ee={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},oe=s("a",{class:"text-primary ms-2 mb-1",href:"/"}," Forgot Password? ",-1),ae=s("span",null,"New on our platform?",-1),te=s("a",{class:"text-primary ms-2",href:"#"}," Create an account ",-1),se=s("span",{class:"mx-4"},"or",-1),ve=w({__name:"login",setup(k){const u=F(),a=p({empCode:"EMP-01",password:"1208125847",remember:!1}),c=p(!1),i=S("empCode",p("")),n=async()=>{try{const t=await U.post("http://localhost:8282/sys/login",{empCode:a.value.empCode,password:a.value.password,companyCode:"COM-01",workplaceCode:"BRC-01"});console.log("정보:",t.data),console.log("정보:",t.data.empInfo.empCode),t.data.errorCode===0?(alert("로그인 성공!"),G().setEmpCode(t.data.empInfo.empCode),i.value=t.data.empInfo.empCode,A("empCode",i.value),console.log("정보1:",i),u.push("/")):alert(t.data.errorMsg||"Invalid ID or password")}catch(t){console.error("로그인 실패:",t),alert("로그인 중 에러 발생")}},I=T(z,$);return(t,l)=>{const h=D;return _(),E(x,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:o(()=>[e(r,{md:"8",class:"d-none d-md-flex"},{default:o(()=>[s("div",K,[s("div",Q,[e(V,{"max-width":"505",src:t.authThemeImg,class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(V,{class:"auth-footer-mask",src:m(I)},null,8,["src"])])]),_:1}),e(r,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:o(()=>[e(O,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:o(()=>[e(v,null,{default:o(()=>[e(m(L),{nodes:m(g).app.logo,class:"mb-6"},null,8,["nodes"]),s("h4",X,[f(" Welcome to "),s("span",Y,N(m(g).app.title),1),f("! 👋🏻 ")]),Z]),_:1}),e(v,null,{default:o(()=>[e(q,{onSubmit:R(n,["prevent"])},{default:o(()=>[e(x,null,{default:o(()=>[e(r,{cols:"12"},{default:o(()=>[e(h,{modelValue:a.value.empCode,"onUpdate:modelValue":l[0]||(l[0]=d=>a.value.empCode=d),autofocus:"",label:"Email",type:"empCode",placeholder:"johndoe@email.com"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:o(()=>[e(h,{modelValue:a.value.password,"onUpdate:modelValue":l[1]||(l[1]=d=>a.value.password=d),label:"Password",placeholder:"············",type:c.value?"text":"password","append-inner-icon":c.value?"tabler-eye-off":"tabler-eye","onClick:appendInner":l[2]||(l[2]=d=>c.value=!c.value)},null,8,["modelValue","type","append-inner-icon"]),s("div",ee,[e(H,{modelValue:a.value.remember,"onUpdate:modelValue":l[3]||(l[3]=d=>a.value.remember=d),label:"Remember me"},null,8,["modelValue"]),oe]),e(y,{block:"",type:"submit"},{default:o(()=>[f(" Login ")]),_:1})]),_:1}),e(r,{cols:"12",class:"text-center text-base"},{default:o(()=>[ae,te]),_:1}),e(r,{cols:"12",class:"d-flex align-center"},{default:o(()=>[e(C),se,e(C)]),_:1}),e(r,{cols:"12",class:"text-center"},{default:o(()=>[e(J)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{ve as default};
