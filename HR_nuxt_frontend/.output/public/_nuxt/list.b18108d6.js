import{a as p}from"./axios.28bc18a3.js";import{a as f,V,b as h,c as _}from"./VCard.c238dd74.js";import{d as w,r as i,o as N,a as x,b,e,w as a,V as m,g as d,f as g,F as L,i as T}from"./entry.0516b5e8.js";import{V as U}from"./VDataTable.781ea32f.js";import{V as E}from"./VForm.b355be77.js";import{V as F}from"./VCheckboxBtn.759eed6f.js";import{V as B}from"./VTextarea.30e1484f.js";import{V as H}from"./VDialog.83d7608d.js";import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";import"./VSelect.c3f72c74.js";import"./VDivider.c8eb66ff.js";import"./VMenu.8605d140.js";const Y=T("h1",{class:"mb-4"},"ðŸ“‹ ë¯¸ìŠ¹ì¸ êµìœ¡ ì‹ ì²­ ë‚´ì—­",-1),Q=w({__name:"list",setup(D){const c=i([]),r=i([]),v=[{title:"êµìœ¡ì½”ë“œ",key:"eduCode"},{title:"êµìœ¡ëª…",key:"eduName"},{title:"ì§ì›ì½”ë“œ",key:"empCode"},{title:"ì§ì›ëª…",key:"empName"},{title:"ë¶€ì„œì½”ë“œ",key:"deptCode"},{title:"ë¶€ì„œëª…",key:"deptName"},{title:"êµìœ¡ ì´ìˆ˜ ë‚´ì—­",key:"eduHistory"},{title:"ìŠ¹ì¸ìƒíƒœ",key:"status"},{title:"ë…„ë„",key:"searchYear"}],n=async()=>{const l=await p.get("http://localhost:8282/hr/edu/eduList");c.value=l.data.eduList.filter(t=>t.status==="ë¯¸ìŠ¹ì¸")},u=i(!1),s=i({eduCode:"",eduName:"",empCode:"",empName:"",deptCode:"",deptName:"",eduHistory:"",searchYear:"",status:""}),C=()=>{if(r.value.length!==1){alert("ìˆ˜ì •ì€ í•˜ë‚˜ë§Œ ì„ íƒí•´ì£¼ì„¸ìš”!");return}s.value={...r.value[0]},u.value=!0},y=async()=>{try{await p.post("http://localhost:8282/hr/edu/selEmpEvalList",s.value),u.value=!1,await n()}catch(l){console.error("ìˆ˜ì • ì‹¤íŒ¨:",l)}},k=async()=>{for(const l of r.value)await p.delete("http://localhost:8282/hr/edu/removeEduList",{params:{searchYear:l.searchYear,eduCode:l.eduCode,empCode:l.empCode,status:l.status}});await n()};return N(()=>n()),(l,t)=>(x(),b(L,null,[Y,e(V,null,{default:a(()=>[e(f,null,{default:a(()=>[e(m,{class:"mr-2",color:"primary",onClick:C},{default:a(()=>[d("ìˆ˜ì •")]),_:1}),e(m,{color:"error",onClick:k},{default:a(()=>[d("ì‹ ì²­ì·¨ì†Œ")]),_:1}),e(g(U),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),headers:v,items:c.value,"item-value":"eduCode","show-select":"","return-object":"",class:"mt-4","items-per-page":10},null,8,["modelValue","items"])]),_:1})]),_:1}),e(H,{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=o=>u.value=o),"max-width":"600"},{default:a(()=>[e(V,null,{default:a(()=>[e(h,null,{default:a(()=>[d("êµìœ¡ ì‹ ì²­ ìˆ˜ì •")]),_:1}),e(f,null,{default:a(()=>[e(E,null,{default:a(()=>[e(F,{label:"êµìœ¡ëª…",modelValue:s.value.eduName,"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.eduName=o),class:"mb-4"},null,8,["modelValue"]),e(B,{label:"êµìœ¡ ì´ìˆ˜ ë‚´ì—­",modelValue:s.value.eduHistory,"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.eduHistory=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(_,{class:"justify-end"},{default:a(()=>[e(m,{variant:"text",onClick:t[3]||(t[3]=o=>u.value=!1)},{default:a(()=>[d("ì·¨ì†Œ")]),_:1}),e(m,{color:"primary",onClick:y},{default:a(()=>[d("ì €ìž¥")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});export{Q as default};
