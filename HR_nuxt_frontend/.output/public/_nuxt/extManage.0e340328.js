import{_ as H}from"./AppSelect.vue.09c264c1.js";import{_ as q}from"./DialogCloseBtn.vue.254a418a.js";import{_ as G}from"./AppTextField.vue.dfd4d735.js";import{p as J,V as K}from"./VPagination.a86c888e.js";import{s as _}from"./index.15d0fdef.js";import{d as O,u as Q,i as W,r as d,x as Y,a as v,b as Z,e,w as o,j as y,f as l,V as w,g as k,t as h,s as x,l as p,v as ee,F as le}from"./entry.03463029.js";import{a as B,V as P}from"./VCard.fffe692b.js";import{V as ae}from"./VSpacer.b6acb082.js";import{V as D}from"./VDivider.d26ec686.js";import{V as te}from"./VDataTable.05c6073e.js";import{V as c}from"./VCol.80a95e6b.js";import{V as A}from"./VRow.32153e51.js";import{V as oe}from"./VDialog.1a76132d.js";import{V as U}from"./VAlert.34e6bd50.js";import{V as T}from"./VSnackbar.87ec9dcb.js";import"./VCheckboxBtn.09401292.js";import"./VSelect.588c9b0b.js";import"./VMenu.e5a18272.js";import"./createSimpleFunctional.7a9430cd.js";import"./VAvatar.d681e4e5.js";import"./index.010e4494.js";import"./axios.28bc18a3.js";/* empty css              */const se=y("h1",{class:"mb-6"},"초과수당관리",-1),ue={class:"me-3 d-flex gap-3"},ne={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ie={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},me={class:"text-sm text-disabled mb-0"},Le=O({__name:"extManage",setup(de){const N=Q(),S=W("empCode",d(""));console.log("현재 로그인된 직원 코드:",S.value,S),S.value!=="EMP-01"&&S.value!=="EMP-00"&&N.push("/hr/confinement/unauthorized");const f=d(!1),b=d(!1),n=d(""),s=d(""),u=d(""),g=d(!1),i=d(!1),C=d([]),m=d({page:1,itemsPerPage:5,sortBy:[""],sortDesc:[!1]}),L=[{title:"초과근무코드",key:"extSalCode"},{title:"초과근무종류",key:"extSalName"},{title:"배율",key:"ratio"}],E=async()=>{await _().SEARCH_BASE_EXT_SAL(),C.value=_().baseExtSalList},M=async()=>{n.value="",s.value="",u.value="",g.value=!1,i.value=!0},j=async r=>{n.value=r.item.extSalCode,s.value=r.item.extSalName,u.value=r.item.ratio,g.value=!0,i.value=!0},R=async()=>{const r={extSalCode:n.value,extSalName:s.value,ratio:u.value};await _().EDIT_BASE_EXT_SAL(r),await E(),i.value=!1,f.value=!0},$=async()=>{const r={extSalCode:n.value,extSalName:s.value,ratio:u.value};u.value===""||u.value===null||s.value===""||s.value===null?b.value=!0:(await _().ADD_BASE_EXT_SAL(r),await E(),i.value=!1,f.value=!0)},F=async()=>{await _().DELETE_BASE_EXT_SAL(n.value),await E(),i.value=!1,f.value=!0};return Y(E),(r,a)=>{const X=H,z=q,V=G;return v(),Z(le,null,[se,e(P,null,{default:o(()=>[e(B,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[y("div",ue,[e(X,{"model-value":l(m).itemsPerPage,items:[{value:5,title:"5"},{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":a[0]||(a[0]=t=>l(m).itemsPerPage=parseInt(t,10))},null,8,["model-value"])]),e(ae),y("div",ne,[e(w,{"prepend-icon":"tabler-plus",onClick:M},{default:o(()=>[k(" 초과 기준 추가 ")]),_:1})])]),_:1}),e(D),e(l(te),{headers:L,items:l(C),"items-per-page":l(m).itemsPerPage,page:l(m).page,options:l(m),"onClick:row":a[2]||(a[2]=(t,I)=>j(I))},{bottom:o(()=>[e(D),e(B,{class:"pt-2"},{default:o(()=>[y("div",ie,[y("p",me,h(l(J)({page:l(m).page,itemsPerPage:l(m).itemsPerPage},l(C).length)),1),e(K,{modelValue:l(m).page,"onUpdate:modelValue":a[1]||(a[1]=t=>l(m).page=t),"total-visible":r.$vuetify.display.smAndDown?3:5,length:Math.ceil(l(C).length/l(m).itemsPerPage)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1},8,["items","items-per-page","page","options"])]),_:1}),e(oe,{modelValue:l(i),"onUpdate:modelValue":a[10]||(a[10]=t=>p(i)?i.value=t:null),"max-width":"600"},{default:o(()=>[e(z,{onClick:a[3]||(a[3]=t=>i.value=!l(i))}),e(P,{title:"초과 수당 기준 추가"},{default:o(()=>[e(B,null,{default:o(()=>[l(g)?(v(),x(A,{key:0},{default:o(()=>[e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(n),"onUpdate:modelValue":a[4]||(a[4]=t=>p(n)?n.value=t:null),label:"초과 근무 코드",disabled:""},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(s),"onUpdate:modelValue":a[5]||(a[5]=t=>p(s)?s.value=t:null),label:"초과 근무 종류",disabled:""},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(u),"onUpdate:modelValue":a[6]||(a[6]=t=>p(u)?u.value=t:null),label:"배율"},null,8,["modelValue"])]),_:1})]),_:1})):(v(),x(A,{key:1},{default:o(()=>[e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(n),"onUpdate:modelValue":a[7]||(a[7]=t=>p(n)?n.value=t:null),label:"초과 근무 코드"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(s),"onUpdate:modelValue":a[8]||(a[8]=t=>p(s)?s.value=t:null),label:"초과 근무 종류"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(u),"onUpdate:modelValue":a[9]||(a[9]=t=>p(u)?u.value=t:null),label:"배율"},null,8,["modelValue"])]),_:1})]),_:1}))]),_:1}),e(B,{class:"d-flex justify-end flex-wrap gap-3 mt-2"},{default:o(()=>[l(g)?(v(),x(w,{key:0,onClick:R},{default:o(()=>[k(" 수정 ")]),_:1})):ee("",!0),l(g)?(v(),x(w,{key:1,onClick:F},{default:o(()=>[k(" 삭제 ")]),_:1})):(v(),x(w,{key:2,onClick:$},{default:o(()=>[k(" 추가 ")]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(T,{modelValue:l(b),"onUpdate:modelValue":a[11]||(a[11]=t=>p(b)?b.value=t:null),location:"top",timeout:3e3,color:"warning"},{default:o(()=>[e(U,{density:"compact",type:"warning",title:"warning!",text:"초과 근무 종류, 배율을 확인해주세요."})]),_:1},8,["modelValue"]),e(T,{modelValue:l(f),"onUpdate:modelValue":a[12]||(a[12]=t=>p(f)?f.value=t:null),location:"top",timeout:3e3,color:"success"},{default:o(()=>[e(U,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}});export{Le as default};
