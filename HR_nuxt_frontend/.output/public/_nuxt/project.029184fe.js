import{_ as A}from"./AppTextField.vue.badc1057.js";import{_ as B}from"./DialogCloseBtn.vue.1ff62fa1.js";import{_ as N}from"./AppTextarea.vue.69477db7.js";import{b as I}from"./index.c17c83dc.js";import{V as k,a as g}from"./VCard.c238dd74.js";import{V as U}from"./VRow.a53f6339.js";import{V as p}from"./VCol.c943daa7.js";import{d as O,c as w,a as i,b as x,i as y,e as t,w as r,f as l,q as _,g as c,V as f,F as S,u as L,r as T,o as G,k as $}from"./entry.0516b5e8.js";import{V as F}from"./VDialog.83d7608d.js";import{u as J}from"./emp.b2d779b9.js";import{V as M}from"./VContainer.90c46cbd.js";import{V as z}from"./VSpacer.40be0b68.js";import{V as W}from"./VDivider.c8eb66ff.js";import{V as q}from"./VDataTable.781ea32f.js";import"./VCheckboxBtn.759eed6f.js";import"./VTextarea.30e1484f.js";import"./index.010e4494.js";import"./axios.28bc18a3.js";import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";/* empty css              */import"./VMenu.8605d140.js";import"./VSelect.c3f72c74.js";const H={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Y=O({__name:"ProjectModal",props:["fetchData"],setup(b){const V=b,n=I(),j=w(()=>n.isDialogBtn),e=w(()=>n.project),D=async()=>{const m={projectID:e.value.projectID,projectName:e.value.projectName,startDate:e.value.startDate,endDate:e.value.endDate,projectType:e.value.projectType,projectAmount:e.value.projectAmount,projectCategory:e.value.projectCategory,remarks:e.value.remarks,jobDescription:e.value.jobDescription};await n.MODIFY_PROJECT(m),await V.fetchData(),await n.SET_DIALOG(!1)},u=async()=>{const m={projectID:e.value.projectID,projectName:e.value.projectName,startDate:e.value.startDate,endDate:e.value.endDate,projectType:e.value.projectType,projectAmount:e.value.projectAmount,projectCategory:e.value.projectCategory,remarks:e.value.remarks,jobDescription:e.value.jobDescription};await n.ADD_PROJECT(m),await V.fetchData(),await n.SET_DIALOG(!1)};return(m,o)=>{const v=B,s=A,C=N;return i(),x(S,null,[y("div",H,[t(F,{modelValue:l(n).isDialog,"onUpdate:modelValue":o[12]||(o[12]=a=>l(n).isDialog=a),"max-width":"600"},{default:r(()=>[t(v,{onClick:o[0]||(o[0]=a=>l(n).SET_DIALOG(!1))}),t(k,{title:"프로젝트 추가"},{default:r(()=>[t(g,null,{default:r(()=>[t(U,null,{default:r(()=>[l(j)?(i(),_(p,{key:0,cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).projectID,"onUpdate:modelValue":o[1]||(o[1]=a=>l(e).projectID=a),label:"코드",disabled:""},null,8,["modelValue"])]),_:1})):(i(),_(p,{key:1,cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).projectID,"onUpdate:modelValue":o[2]||(o[2]=a=>l(e).projectID=a),label:"코드"},null,8,["modelValue"])]),_:1})),t(p,{cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).projectName,"onUpdate:modelValue":o[3]||(o[3]=a=>l(e).projectName=a),label:"프로젝트 명"},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).startDate,"onUpdate:modelValue":o[4]||(o[4]=a=>l(e).startDate=a),label:"시작 날짜",type:"date"},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).endDate,"onUpdate:modelValue":o[5]||(o[5]=a=>l(e).endDate=a),label:"종료 날짜",type:"date"},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).projectType,"onUpdate:modelValue":o[6]||(o[6]=a=>l(e).projectType=a),label:"유형"},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).projectAmount,"onUpdate:modelValue":o[7]||(o[7]=a=>l(e).projectAmount=a),label:"금액"},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).projectCategory,"onUpdate:modelValue":o[8]||(o[8]=a=>l(e).projectCategory=a),label:"분류"},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:r(()=>[t(s,{modelValue:l(e).remarks,"onUpdate:modelValue":o[9]||(o[9]=a=>l(e).remarks=a),label:"비고"},null,8,["modelValue"])]),_:1}),t(p,null,{default:r(()=>[t(C,{modelValue:l(e).jobDescription,"onUpdate:modelValue":o[10]||(o[10]=a=>l(e).jobDescription=a),label:"직무내용",placeholder:"직무내용을 작성해주세요."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(g,{class:"d-flex justify-end flex-wrap gap-3 mt-2"},{default:r(()=>[l(j)?(i(),_(f,{key:0,onClick:D},{default:r(()=>[c(" 수정 ")]),_:1})):(i(),_(f,{key:1,onClick:u},{default:r(()=>[c(" 추가 ")]),_:1})),t(f,{onClick:o[11]||(o[11]=a=>l(n).SET_DIALOG(!1))},{default:r(()=>[c(" 닫기 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(k)],64)}}}),K=y("h1",{class:"mb-6"}," 프로젝트 관리 ",-1),Q={style:{"inline-size":"10rem"}},X={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Ce=O({__name:"project",setup(b){const V=L(),n=J();n.loadEmpCode(),console.log("현재 로그인된 직원 코드:",n.empCode),n.empCode!=="EMP-01"&&n.empCode!=="EMP-00"&&V.push("/hr/confinement/unauthorized");const j=T([]),e=I(),D=T([]),u=T([]),m=[{title:"프로젝트 코드",key:"projectID",align:"center"},{title:"프로젝트 명",key:"projectName",align:"center"},{title:"시작 날짜",key:"startDate",align:"center"},{title:"종료 날짜",key:"endDate",align:"center"},{title:"유형",key:"projectType",align:"center"},{title:"금액",key:"projectAmount",align:"center"},{title:"분류",key:"projectCategory",align:"center"}],o=async()=>{await e.FETCH_PROJECT(),D.value=await e.projectList},v=()=>{e.SET_DIALOG_BTN(!1),e.SET_PROJECT_ROW(j.value),e.SET_DIALOG(!0)},s=async()=>{for(const a in u.value)if(u.value.hasOwnProperty(a)){const d=u.value[a];await e.REMOVE_PROJECT(d)}await o()},C=a=>{e.SET_DIALOG_BTN(!0),e.SET_PROJECT_ROW(a.item),e.SET_DIALOG(!0)};return G(o),(a,d)=>{const P=A;return i(),x(S,null,[K,t(k,null,{default:r(()=>[t(M,null,{default:r(()=>[t(g,{class:"d-flex flex-wrap py-4 gap-4"},{default:r(()=>[y("div",Q,[t(P,{placeholder:"Search",density:"compact"})]),t(z),y("div",X,[t(f,{"prepend-icon":"tabler-plus",onClick:v},{default:r(()=>[c(" 프로젝트 추가 ")]),_:1}),t(f,{"prepend-icon":"tabler-minus",onClick:s},{default:r(()=>[c(" 프로젝트 삭제 ")]),_:1})])]),_:1}),t(W),t(l(q),{modelValue:l(u),"onUpdate:modelValue":d[0]||(d[0]=E=>$(u)?u.value=E:null),headers:m,items:l(D),"item-value":"projectID","show-select":"","onClick:row":d[1]||(d[1]=(E,R)=>C(R))},null,8,["modelValue","items"])]),_:1})]),_:1}),t(Y,{"fetch-data":o})],64)}}});export{Ce as default};
