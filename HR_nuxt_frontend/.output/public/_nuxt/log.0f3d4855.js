import{_ as v}from"./AppTextField.vue.dfd4d735.js";import{d as w}from"./index.a34ae96f.js";import{d as b,u as k,i as C,r as s,c as E,o as L,a as N,b as x,e as t,w as n,j as p,f as i,l as _,V as D,g as T,F as j}from"./entry.03463029.js";import{V as M}from"./VContainer.1a8d47b6.js";import{a as S,V as B}from"./VCard.fffe692b.js";import{V as F}from"./VSpacer.b6acb082.js";import{V as P}from"./VDivider.d26ec686.js";import{V as O}from"./VDataTable.05c6073e.js";import"./VCheckboxBtn.09401292.js";import"./index.010e4494.js";import"./axios.28bc18a3.js";/* empty css              */import"./createSimpleFunctional.7a9430cd.js";import"./VAvatar.d681e4e5.js";import"./VSelect.588c9b0b.js";import"./VMenu.e5a18272.js";const R=p("h1",{class:"mb-6"}," 일용근로 직원이력 관리 ",-1),z={style:{"inline-size":"10rem"}},G={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},re=b({__name:"log",setup(U){const V=k(),o=C("empCode",s(""));console.log("현재 로그인된 직원 코드:",o.value,o),o.value!=="EMP-01"&&o.value!=="EMP-00"&&V.push("/hr/confinement/unauthorized");const r=s(""),m=w(),d=s([]),l=s([]),g=[{title:"성명",key:"employeeName",align:"center"},{title:"주민등록번호",key:"residentialNumber",align:"center"},{title:"프로젝트",key:"project",align:"center"},{title:"부서",key:"department",align:"center"},{title:"시작날짜",key:"workStartDate",align:"center"},{title:"종료날짜",key:"workEndDate",align:"center"},{title:"핸드폰",key:"phoneNumber",align:"center"}],f=async()=>{await m.FETCH_EMP_LOG(),d.value=await m.empLogList},y=async()=>{const a=[];l.value.forEach(e=>{const c={employeeName:e.employeeName,residentialNumber:e.residentialNumber};a.push(c)}),await m.DELETE_EMP_LOG(a),await f()},h=E(()=>d.value.filter(a=>Object.values(a).some(e=>typeof e=="string"?e.toLowerCase().includes(r.value.toLowerCase()):!1)));return L(f),(a,e)=>{const c=v;return N(),x(j,null,[R,t(B,null,{default:n(()=>[t(M,null,{default:n(()=>[t(S,{class:"d-flex flex-wrap py-4 gap-4"},{default:n(()=>[p("div",z,[t(c,{modelValue:i(r),"onUpdate:modelValue":e[0]||(e[0]=u=>_(r)?r.value=u:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(F),p("div",G,[t(D,{"prepend-icon":"tabler-minus",onClick:y},{default:n(()=>[T(" 이력 삭제 ")]),_:1})])]),_:1}),t(P),t(i(O),{modelValue:i(l),"onUpdate:modelValue":e[1]||(e[1]=u=>_(l)?l.value=u:null),headers:g,items:i(h),"item-value":"residentialNumber","return-object":"","show-select":""},null,8,["modelValue","items"])]),_:1})]),_:1})],64)}}});export{re as default};
