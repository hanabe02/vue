import{_ as R}from"./AppDateTimePicker.vue.b5a9ee0a.js";import{a as k}from"./axios.28bc18a3.js";import{d as H,u as W,r as i,o as F,a as A,b as M,e as t,w as o,f as h,g as c,t as $,V as v,F as j,i as u}from"./entry.0516b5e8.js";import{u as I}from"./emp.b2d779b9.js";import{V as P}from"./VContainer.90c46cbd.js";import{V as q}from"./VCheckboxBtn.759eed6f.js";import{V as _}from"./VDataTable.781ea32f.js";import{V as g}from"./VCard.c238dd74.js";import{V as s}from"./VSelect.c3f72c74.js";import{V as D}from"./VRow.a53f6339.js";import{V as T}from"./VCol.c943daa7.js";import{V as z}from"./VAlert.d201ec9e.js";import{V as K}from"./VSnackbar.06ffd08c.js";/* empty css              */import"./VDivider.c8eb66ff.js";import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";import"./VMenu.8605d140.js";const Q=u("h1",{class:"mb-6"},"인사발령 신청",-1),G=u("br",null,null,-1),J=u("div",null,[u("h2",null,"발령 대상자")],-1),fe=H({__name:"request",setup(X){const S=W(),r=I();r.loadEmpCode(),console.log("현재 로그인된 직원 코드:",r.empCode),r.empCode!=="EMP-01"&&r.empCode!=="EMP-00"&&S.push("/hr/confinement/unauthorized");const C=[{title:"사번",key:"empCode"},{title:"직원명",key:"empName"},{title:"부서이름",key:"deptName"}],U=[{title:"대기발령",key:"DPT-00"},{title:"총무부",key:"DPT-01"},{title:"영업부",key:"DPT-02"},{title:"생산부",key:"DPT-03"},{title:"구매부",key:"DPT-04"},{title:"인사부",key:"DPT-05"},{title:"개발부",key:"DPT-07"},{title:"기획부",key:"DPT-08"},{title:"홍보부",key:"DPT-09"},{title:"기술부",key:"DPT-10"},{title:"파견부서",key:"DPT-11"}],b=[{title:"(주)세계전자 본사",key:"BRC-01"},{title:"(주)세계전자 울산지점",key:"BRC-02"}],O=[{title:"사원이름",key:"empName"},{title:"근무부서",key:"deptName"},{title:"근무지",key:"workPlaceName"},{title:"직급",key:"positionName"},{title:"발령부서",key:"appointDept"},{title:"발령근무지",key:"appointWP"},{title:"승진직급",key:"appointLevel"},{title:"호봉승급",key:"appointHobong"},{title:"발령",key:"appointType"},{title:"발령일",key:"appointDate"}],w=[{title:"사장",value:"POS-01"},{title:"이사",value:"POS-02"},{title:"부장",value:"POS-03"},{title:"차장",value:"POS-04"},{title:"과장",value:"POS-05"},{title:"대리",value:"POS-06"},{title:"사원",value:"POS-07"},{title:"인턴",value:"POS-08"},{title:"계약직",value:"POS-09"}],V=[];for(let l=1;l<=30;l++)V.push({title:`${l}호봉`,key:`HB-${l.toString().padStart(2,"0")}`});const N=[{title:"승진",key:"promoted"},{title:"전근",key:"transfer"},{title:"전보",key:"transference"},{title:"퇴직",key:"retirement"}],m=i(!1),y=i([]),n=i([]),d=i(""),L=i({enabled:!0,trigger:"enter",skipDiacrities:!0,placeholder:"직원 정보"}),f=async()=>{try{const l=await k.get("http://localhost:8282/hr/affair/emp");console.log("[empList]",l.data.empList),y.value=l.data.empList}catch(l){console.error(l)}},x=async()=>{console.log(n.value),console.log("발령을 등록합니다.");try{await k.post("http://localhost:8282/hr/affair/appoint",n.value),n.value=[],f(),m.value=!0}catch(l){console.error("발령 등록 에러: ",l)}},B=()=>{console.log("발령 신청을 취소합니다."),n.value=[]};return F(()=>{f()}),(l,p)=>{const E=R;return A(),M(j,null,[Q,t(g,null,{default:o(()=>[t(P,null,{default:o(()=>[t(q,{modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=e=>d.value=e),density:"compact",placeholder:"직원 정보 검색","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:"",onInput:L.value},null,8,["modelValue","onInput"]),t(h(_),{modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=e=>n.value=e),headers:C,items:y.value,"items-per-page":5,"footer-props":{"items-per-page-options":[5,10,20],"show-current-page":!0,"show-first-last-page":!0},search:d.value,align:"center","show-select":"","item-value":"empCode","return-object":""},{"item.deptName":o(({item:e})=>[c($(e.deptName),1)]),_:1},8,["modelValue","items","search"])]),_:1})]),_:1}),G,J,t(g,null,{default:o(()=>[t(P,null,{default:o(()=>[t(h(_),{headers:O,items:n.value},{"item.appointDept":o(({item:e})=>[t(s,{modelValue:e.appointDept,"onUpdate:modelValue":a=>e.appointDept=a,items:U},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointWP":o(({item:e})=>[t(s,{modelValue:e.appointWP,"onUpdate:modelValue":a=>e.appointWP=a,items:b},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointLevel":o(({item:e})=>[t(s,{modelValue:e.appointLevel,"onUpdate:modelValue":a=>e.appointLevel=a,items:w},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointHobong":o(({item:e})=>[t(s,{modelValue:e.appointHobong,"onUpdate:modelValue":a=>e.appointHobong=a,items:V},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointType":o(({item:e})=>[t(s,{modelValue:e.appointType,"onUpdate:modelValue":a=>e.appointType=a,items:N},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointDate":o(({item:e})=>[t(D,null,{default:o(()=>[t(T,null,{default:o(()=>[t(E,{modelValue:e.appointDate,"onUpdate:modelValue":a=>e.appointDate=a,"show-adjacent-months":"","show-decade-navs":"","button-only":"",right:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),t(D,null,{default:o(()=>[t(T,null,{default:o(()=>[t(v,{class:"ma-2",color:"primary",onClick:x},{default:o(()=>[c(" 등록 ")]),_:1}),t(v,{color:"secondary",onClick:B},{default:o(()=>[c(" 취소 ")]),_:1})]),_:1})]),_:1}),t(K,{modelValue:m.value,"onUpdate:modelValue":p[2]||(p[2]=e=>m.value=e),location:"top",timeout:3e3,color:"success"},{default:o(()=>[t(z,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}});export{fe as default};
