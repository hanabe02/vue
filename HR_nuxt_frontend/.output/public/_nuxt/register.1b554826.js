import{_ as T}from"./AppTextField.vue.dfd4d735.js";import{_ as A}from"./AppDateTimePicker.vue.b1c2e160.js";import{d as C}from"./index.a34ae96f.js";import{d as E,u as N,i as P,r as n,c as R,n as F,a as U,b as j,e as t,w as l,j as w,f as i,l as y,V as _,h as g,g as V,t as B,F as Y}from"./entry.03463029.js";import{a as z,V as M}from"./VCard.fffe692b.js";import{V as b}from"./VCol.80a95e6b.js";import{V as $}from"./VSpacer.b6acb082.js";import{V as q}from"./VDivider.d26ec686.js";import{V as O}from"./VDataTable.05c6073e.js";import{V as G}from"./VAlert.34e6bd50.js";import{V as H}from"./VSnackbar.87ec9dcb.js";import"./VCheckboxBtn.09401292.js";import"./index.010e4494.js";import"./axios.28bc18a3.js";import"./createSimpleFunctional.7a9430cd.js";import"./VAvatar.d681e4e5.js";/* empty css              */import"./VSelect.588c9b0b.js";import"./VMenu.e5a18272.js";const J=w("h1",{class:"mb-6"},"일용근로 급여등록",-1),K={style:{"inline-size":"10rem"}},Q={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},_e=E({__name:"register",setup(W){const h=N(),p=P("empCode",n(""));console.log("현재 로그인된 직원 코드:",p.value,p),p.value!=="EMP-01"&&p.value!=="EMP-00"&&h.push("/hr/confinement/unauthorized");const d=n(""),s=n(!1),c=C(),r=n(""),v=n([]),u=n([]),k=[{title:"사번",key:"employeeId",align:"center"},{title:"직원명",key:"employeeName",align:"center"},{title:"총 급여",key:"totalPay",align:"center"},{title:"정상급여",key:"normalPay",align:"center"},{title:"연장급여",key:"overtimePay",align:"center"},{title:"야간급여",key:"nightPayRate",align:"center"}],f=async()=>{const a={date:r.value,deadline:"N",status:"N"};await c.FIND_SALARY_LIST(a),v.value=await c.dailyLaborSalaryList},D=async()=>{const a={workDate:r.value};await c.INSERT_SALARY_LIST(a),await f(),s.value=!0},L=async()=>{const a=[];u.value.forEach(e=>{const m={employeeId:e.employeeId,workDate:e.workDate.substring(0,10)};a.push(m)}),await c.UPDATE_SALARY_LIST(a),await f(),s.value=!0},S=async()=>{const a=[];u.value.forEach(e=>{const m={employeeId:e.employeeId,workDate:e.workDate.substring(0,10)};a.push(m)}),await c.DELETE_SALARY_LIST(a),await f(),s.value=!0},x=R(()=>v.value.filter(a=>Object.values(a).some(e=>typeof e=="string"?e.toLowerCase().includes(d.value.toLowerCase()):!1)));return F([r],f,{immediate:!0}),(a,e)=>{const m=T,I=A;return U(),j(Y,null,[J,t(M,null,{default:l(()=>[t(z,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[t(b,null,{default:l(()=>[w("div",K,[t(m,{modelValue:i(d),"onUpdate:modelValue":e[0]||(e[0]=o=>y(d)?d.value=o:null),density:"compact",placeholder:"검색","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:""},null,8,["modelValue"])])]),_:1}),t($),t(b,{md:"2"},{default:l(()=>[t(I,{modelValue:i(r),"onUpdate:modelValue":e[1]||(e[1]=o=>y(r)?r.value=o:null),placeholder:"급여등록 날짜 검색"},null,8,["modelValue"])]),_:1}),w("div",Q,[t(_,{onClick:D},{default:l(()=>[t(g,{start:"",icon:"tabler-checkbox"}),V("생성 ")]),_:1}),t(_,{onClick:L},{default:l(()=>[t(g,{start:"",icon:"tabler-checkbox"}),V("등록 ")]),_:1}),t(_,{onClick:S},{default:l(()=>[t(g,{start:"",icon:"tabler-square-x"}),V("삭제 ")]),_:1})])]),_:1}),t(q),t(i(O),{modelValue:i(u),"onUpdate:modelValue":e[2]||(e[2]=o=>y(u)?u.value=o:null),headers:k,items:i(x),"items-per-page":5,"footer-props":{"items-per-page-options":[5,10,20],"show-current-page":!0,"show-first-last-page":!0},"show-select":"","item-value":"employeeId","return-object":""},{"item.deptName":l(({item:o})=>[V(B(o.deptName),1)]),_:1},8,["modelValue","items"])]),_:1}),t(H,{modelValue:i(s),"onUpdate:modelValue":e[3]||(e[3]=o=>y(s)?s.value=o:null),location:"top",timeout:3e3,color:"success"},{default:l(()=>[t(G,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}});export{_e as default};
