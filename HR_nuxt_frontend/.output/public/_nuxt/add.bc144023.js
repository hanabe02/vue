import{b as P}from"./index.c17c83dc.js";import{e as S}from"./index.3010be99.js";import{a as Y}from"./axios.28bc18a3.js";import{V as D}from"./VRow.a53f6339.js";import{V as d}from"./VCol.c943daa7.js";import{V as m}from"./VSelect.c3f72c74.js";import{d as se,r as n,m as ie,c as r,o as de,a as me,b as re,e as t,w as o,V as F,g as M,f as ce,i as s}from"./entry.0516b5e8.js";import{V as pe}from"./VDataTable.781ea32f.js";import{V as i}from"./VCheckboxBtn.759eed6f.js";import{V as I,a as ve}from"./VCard.c238dd74.js";import"./index.010e4494.js";/* empty css              */import"./VDivider.c8eb66ff.js";import"./VMenu.8605d140.js";import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";const fe=s("h1",{class:"mb-6"},"인사고과 대상자 추가",-1),Ve=s("br",null,null,-1),be=s("span",null,"근태",-1),ye=s("p",null,"결근 없음, +20 / 1~2일 결근, +16 / 3~4일 결근, +12 / 5일 이상 결근, +8 / 자주 지각, +10 이하",-1),_e=s("span",null,"직급",-1),Oe=s("p",null,"사원, +10 / 대리, +12 / 과장, +15 / 차장, +18 / 부장 이상, +20",-1),ge=s("span",null,"결격(징계 등)여부",-1),Le=s("p",null,"결격 사유 없음, +10 / 결격 사유 있음, +0",-1),Ue=s("span",null,"교육이수",-1),Ne=s("p",null,"직무 관련 교육 이수, +10 / 일부 관련 자격증 보유, +6 / 자격증 없음, +0",-1),De=s("span",null,"근속년수",-1),Ce=s("p",null,"10년 이상, +10 / 5~9년 근속, +7 / 1~4년 근속, +5 / 1년 미만 근속, +2",-1),Ee=s("span",null,"자격증",-1),Te=s("p",null,"직무 관련 자격증 보유, +10 / 일부 관련 자격증 보유, +6 / 자격증 없음, +0",-1),Se=s("span",null,"휴가 사용",-1),he=s("p",null,"휴가 사용 적절, +10 / 과도한 휴가 사용, +5 / 휴가 사용 적지 않음, +2",-1),Re=s("span",null,"등급산정",-1),ke=s("p",null," 90점 이상, S / 90점 미만 ~ 80점 이상, A / 80점 미만 ~ 70점 이상, B / 70점 미만 ~ 60점 이상, C / 60점 미만 ~ 50점 이상, D / 50점 미만, E ",-1),We=se({__name:"add",setup(He){const N=S(),L=n(""),O=n(""),c=n("");n("");const p=n(""),v=n(""),f=n(""),V=n(""),g=n(""),b=n(""),y=n(""),_=n(""),h=n(""),R=n(""),z=n(""),C=n([]),k=n([]),H=n([]),q=n([]),j=n([]),w=n([]),A=n([]),x=n([]),B=n([]),E=n([]),T=n([]),U=n([]),G=async()=>{await P().FETCH_YEARLIST();const a=P().yearList;B.value=a?Object.values(a).map(l=>l.year):[]},J=[{title:"이름",key:"empName"},{title:"부서",key:"deptName"},{title:"직급",key:"positionName"},{title:"교육",key:"durationOfTraining"},{title:"자격증",key:"numberOfCertificate"},{title:"근태",key:"attendanceStatus"},{title:"남은 휴가",key:"numberOfRestDay"},{title:"휴가",key:"remainingHoliday"},{title:"결격여부",key:"disqualification"},{title:"장기근속",key:"career"},{title:"총 점수",key:"score"},{title:"등급",key:"grade"}],K=async()=>{try{const a=await Y.get("http://localhost:8282/hr/base/deptList");console.log("vava",a.data);const l=a.data.deptlist;E.value=l.map(e=>({title:e.deptName,value:e.deptCode})),console.log("[deptList]",E.value)}catch(a){console.error(a)}},Q=async()=>{try{const a=await Y.get("http://localhost:8282/hr/affair/emp");console.log("gaga",a.data);const l=a.data.empList;T.value=l.map(e=>({title:e.empName,value:e.empCode})),console.log("[empList]",T.value)}catch(a){console.error(a)}},W=async()=>{const a={searchYear:L.value,deptCode:c.value};console.log(a),await N.SEARCH_EMP_EVAL_DEPT(a),U.value=await N.evalList};ie([O,c,p,v,V,f,g,b,y,_,h,R,z],()=>{U.value=[{empName:O.value,deptName:c.value,positionName:p.value,durationOfTraining:v.value,attendanceStatus:V.value,numberOfCertificate:f.value,numberOfRestDay:g.value,remainingHoliday:b.value,disqualification:y.value,career:_.value,score:h.value,grade:R.value,status:"미승인"}]},{immediate:!0});const X=async()=>{await S().FETCH_EVALLIST();const a=S().evalList;console.log("값",a),C.value=a?Object.values(a).map(l=>l.positionName):[],k.value=a?Object.values(a).map(l=>l.durationOfTraining):[],H.value=a?Object.values(a).map(l=>l.numberOfCertificate):[],q.value=a?Object.values(a).map(l=>l.attendanceStatus):[],C.value=a?Object.values(a).map(l=>l.positionName):[],j.value=a?Object.values(a).map(l=>l.numberOfRestDay):[],w.value=a?Object.values(a).map(l=>l.remainingHoliday):[],A.value=a?Object.values(a).map(l=>l.disqualification):[],x.value=a?Object.values(a).map(l=>l.career):[]},Z=r(()=>C.value.filter(a=>a!==null&&a!=="")),$=r(()=>k.value.filter(a=>a!==null&&a!=="")),ee=r(()=>H.value.filter(a=>a!==null&&a!=="")),ae=r(()=>q.value.filter(a=>a!==null&&a!=="")),le=r(()=>j.value.filter(a=>a!==null&&a!=="")),te=r(()=>w.value.filter(a=>a!==null&&a!=="")),oe=r(()=>A.value.filter(a=>a!==null&&a!=="")),ne=r(()=>x.value.filter(a=>a!==null&&a!=="")),ue=async()=>{if(!L.value||!c.value||!O.value||!p.value||!v.value||!f.value||!V.value||!b.value||!y.value||!_.value){alert("모든 슬롯 창을 선택하거나 값을 입력해주세요.");return}const a={positionName:p.value,durationOfTraining:v.value,numberOfCertificate:f.value,attendanceStatus:V.value,numberOfRestDay:g.value,remainingHoliday:b.value,disqualification:y.value,career:_.value},l={searchYear:L.value,deptName:c.value,empName:O.value,positionName:a.positionName||p.value,durationOfTraining:a.durationOfTraining||v.value,numberOfCertificate:a.numberOfCertificate||f.value,attendanceStatus:a.attendanceStatus||V.value,numberOfRestDay:a.numberOfRestDay||g.value,remainingHoliday:a.remainingHoliday||b.value,disqualification:a.disqualification||y.value,career:a.career||_.value};console.log("evalEmpData:",l);try{await N.ADD_EMP_EVAL(l),U.value=N.evalList,console.log("Updated evalList:",U.value)}catch(e){console.error("Error in btnAddEmpEval",e)}};return de(()=>{G(),K(),Q(),X()}),(a,l)=>(me(),re("div",null,[fe,t(I,null,{default:o(()=>[t(D,null,{default:o(()=>[t(d,{cols:"12",md:"4"},{default:o(()=>[t(m,{modelValue:L.value,"onUpdate:modelValue":l[0]||(l[0]=e=>L.value=e),class:"ma-3",label:"검색년도",items:B.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12",md:"4"},{default:o(()=>[t(m,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e),class:"ma-3",label:"부서명",items:E.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12",md:"4"},{default:o(()=>[t(m,{modelValue:O.value,"onUpdate:modelValue":l[2]||(l[2]=e=>O.value=e),class:"ma-3",label:"사원명",items:T.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(D,null,{default:o(()=>[t(d,null,{default:o(()=>[t(m,{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),class:"ma-3",label:"직급",items:Z.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:o(()=>[t(m,{modelValue:v.value,"onUpdate:modelValue":l[4]||(l[4]=e=>v.value=e),class:"ma-3",label:"교육",items:$.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:o(()=>[t(m,{modelValue:f.value,"onUpdate:modelValue":l[5]||(l[5]=e=>f.value=e),class:"ma-3",label:"자격증",items:ee.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(D,null,{default:o(()=>[t(d,null,{default:o(()=>[t(m,{modelValue:V.value,"onUpdate:modelValue":l[6]||(l[6]=e=>V.value=e),class:"ma-3",label:"근태",items:ae.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:o(()=>[t(m,{modelValue:g.value,"onUpdate:modelValue":l[7]||(l[7]=e=>g.value=e),class:"ma-3",label:"남은 휴가",items:le.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:o(()=>[t(m,{modelValue:b.value,"onUpdate:modelValue":l[8]||(l[8]=e=>b.value=e),class:"ma-3",label:"휴가",items:te.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(D,null,{default:o(()=>[t(d,{cols:"12",md:"2"},{default:o(()=>[t(m,{modelValue:y.value,"onUpdate:modelValue":l[9]||(l[9]=e=>y.value=e),class:"ma-3",label:"결격여부",items:oe.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12",md:"2"},{default:o(()=>[t(m,{modelValue:_.value,"onUpdate:modelValue":l[10]||(l[10]=e=>_.value=e),class:"ma-3",label:"근속연수",items:ne.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(F,{class:"ml-3",color:"primary",onClick:ue},{default:o(()=>[M(" 사원 추가 ")]),_:1}),t(F,{class:"ml-3",variant:"tonal",onClick:W},{default:o(()=>[M(" 부서 조회 ")]),_:1}),t(ce(pe),{class:"mt-10",headers:J,items:U.value},{"item.empName":o(({item:e})=>[t(i,{modelValue:e.empName,"onUpdate:modelValue":u=>e.empName=u,label:e.empName||"이름",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.deptName":o(({item:e})=>[t(i,{modelValue:e.deptName,"onUpdate:modelValue":u=>e.deptName=u,label:e.deptName||"부서",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.positionName":o(({item:e})=>[t(i,{modelValue:e.positionName,"onUpdate:modelValue":u=>e.positionName=u,label:e.positionName||"직급",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.durationOfTraining":o(({item:e})=>[t(i,{modelValue:e.durationOfTraining,"onUpdate:modelValue":u=>e.durationOfTraining=u,label:e.durationOfTraining||"교육",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.numberOfCertificate":o(({item:e})=>[t(i,{modelValue:e.numberOfCertificate,"onUpdate:modelValue":u=>e.numberOfCertificate=u,label:e.numberOfCertificate||"자격증",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.attendanceStatus":o(({item:e})=>[t(i,{modelValue:e.attendanceStatus,"onUpdate:modelValue":u=>e.attendanceStatus=u,label:e.attendanceStatus||"근태",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.numberOfRestDay":o(({item:e})=>[t(i,{modelValue:e.numberOfRestDay,"onUpdate:modelValue":u=>e.numberOfRestDay=u,label:e.numberOfRestDay||"남은 휴가",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.remainingHoliday":o(({item:e})=>[t(i,{modelValue:e.remainingHoliday,"onUpdate:modelValue":u=>e.remainingHoliday=u,label:e.remainingHoliday||"휴가",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.disqualification":o(({item:e})=>[t(i,{modelValue:e.disqualification,"onUpdate:modelValue":u=>e.disqualification=u,label:e.disqualification||"결격여부",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.career":o(({item:e})=>[t(i,{modelValue:e.career,"onUpdate:modelValue":u=>e.career=u,label:e.career||"근속연수",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.score":o(({item:e})=>[t(i,{modelValue:e.score,"onUpdate:modelValue":u=>e.score=u,label:e.score||"총 점수",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.grade":o(({item:e})=>[t(i,{modelValue:e.grade,"onUpdate:modelValue":u=>e.grade=u,label:e.grade||"등급",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1032,["items"])]),_:1}),Ve,t(I,{title:"<등급 산정 기준>"},{default:o(()=>[t(ve,null,{default:o(()=>[be,ye,_e,Oe,ge,Le,Ue,Ne,De,Ce,Ee,Te,Se,he,Re,ke]),_:1})]),_:1})]))}});export{We as default};
