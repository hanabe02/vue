import{_ as q}from"./AppSelect.vue.a2e355e3.js";import{_ as H}from"./DialogCloseBtn.vue.1ff62fa1.js";import{_ as G}from"./AppTextField.vue.badc1057.js";import{p as J,V as K}from"./VPagination.73e79dab.js";import{s as _}from"./index.a27dba13.js";import{d as O,u as Q,r,v as W,a as v,b as Y,e,w as o,i as y,f as l,V as k,g as w,t as Z,q as x,k as p,s as h,F as ee}from"./entry.0516b5e8.js";import{u as le}from"./emp.b2d779b9.js";import{a as B,V as P}from"./VCard.c238dd74.js";import{V as ae}from"./VSpacer.40be0b68.js";import{V as D}from"./VDivider.c8eb66ff.js";import{V as te}from"./VDataTable.781ea32f.js";import{V as c}from"./VCol.c943daa7.js";import{V as A}from"./VRow.a53f6339.js";import{V as oe}from"./VDialog.83d7608d.js";import{V as U}from"./VAlert.d201ec9e.js";import{V as T}from"./VSnackbar.06ffd08c.js";import"./VCheckboxBtn.759eed6f.js";import"./VSelect.c3f72c74.js";import"./VMenu.8605d140.js";import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";import"./index.010e4494.js";import"./axios.28bc18a3.js";/* empty css              */const se=y("h1",{class:"mb-6"},"초과수당관리",-1),ue={class:"me-3 d-flex gap-3"},ie={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ne={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},me={class:"text-sm text-disabled mb-0"},Me=O({__name:"extManage",setup(de){const N=Q(),S=le();S.loadEmpCode(),console.log("현재 로그인된 직원 코드:",S.empCode),S.empCode!=="EMP-01"&&S.empCode!=="EMP-00"&&N.push("/hr/confinement/unauthorized");const f=r(!1),C=r(!1),i=r(""),s=r(""),u=r(""),g=r(!1),n=r(!1),E=r([]),m=r({page:1,itemsPerPage:5,sortBy:[""],sortDesc:[!1]}),L=[{title:"초과근무코드",key:"extSalCode"},{title:"초과근무종류",key:"extSalName"},{title:"배율",key:"ratio"}],b=async()=>{await _().SEARCH_BASE_EXT_SAL(),E.value=_().baseExtSalList},M=async()=>{i.value="",s.value="",u.value="",g.value=!1,n.value=!0},R=async d=>{i.value=d.item.extSalCode,s.value=d.item.extSalName,u.value=d.item.ratio,g.value=!0,n.value=!0},$=async()=>{const d={extSalCode:i.value,extSalName:s.value,ratio:u.value};await _().EDIT_BASE_EXT_SAL(d),await b(),n.value=!1,f.value=!0},F=async()=>{const d={extSalCode:i.value,extSalName:s.value,ratio:u.value};u.value===""||u.value===null||s.value===""||s.value===null?C.value=!0:(await _().ADD_BASE_EXT_SAL(d),await b(),n.value=!1,f.value=!0)},X=async()=>{await _().DELETE_BASE_EXT_SAL(i.value),await b(),n.value=!1,f.value=!0};return W(b),(d,a)=>{const j=q,z=H,V=G;return v(),Y(ee,null,[se,e(P,null,{default:o(()=>[e(B,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[y("div",ue,[e(j,{"model-value":l(m).itemsPerPage,items:[{value:5,title:"5"},{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":a[0]||(a[0]=t=>l(m).itemsPerPage=parseInt(t,10))},null,8,["model-value"])]),e(ae),y("div",ie,[e(k,{"prepend-icon":"tabler-plus",onClick:M},{default:o(()=>[w(" 초과 기준 추가 ")]),_:1})])]),_:1}),e(D),e(l(te),{headers:L,items:l(E),"items-per-page":l(m).itemsPerPage,page:l(m).page,options:l(m),"onClick:row":a[2]||(a[2]=(t,I)=>R(I))},{bottom:o(()=>[e(D),e(B,{class:"pt-2"},{default:o(()=>[y("div",ne,[y("p",me,Z(l(J)({page:l(m).page,itemsPerPage:l(m).itemsPerPage},l(E).length)),1),e(K,{modelValue:l(m).page,"onUpdate:modelValue":a[1]||(a[1]=t=>l(m).page=t),"total-visible":d.$vuetify.display.smAndDown?3:5,length:Math.ceil(l(E).length/l(m).itemsPerPage)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1},8,["items","items-per-page","page","options"])]),_:1}),e(oe,{modelValue:l(n),"onUpdate:modelValue":a[10]||(a[10]=t=>p(n)?n.value=t:null),"max-width":"600"},{default:o(()=>[e(z,{onClick:a[3]||(a[3]=t=>n.value=!l(n))}),e(P,{title:"초과 수당 기준 추가"},{default:o(()=>[e(B,null,{default:o(()=>[l(g)?(v(),x(A,{key:0},{default:o(()=>[e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(i),"onUpdate:modelValue":a[4]||(a[4]=t=>p(i)?i.value=t:null),label:"초과 근무 코드",disabled:""},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(s),"onUpdate:modelValue":a[5]||(a[5]=t=>p(s)?s.value=t:null),label:"초과 근무 종류",disabled:""},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(u),"onUpdate:modelValue":a[6]||(a[6]=t=>p(u)?u.value=t:null),label:"배율"},null,8,["modelValue"])]),_:1})]),_:1})):(v(),x(A,{key:1},{default:o(()=>[e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(i),"onUpdate:modelValue":a[7]||(a[7]=t=>p(i)?i.value=t:null),label:"초과 근무 코드"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(s),"onUpdate:modelValue":a[8]||(a[8]=t=>p(s)?s.value=t:null),label:"초과 근무 종류"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(u),"onUpdate:modelValue":a[9]||(a[9]=t=>p(u)?u.value=t:null),label:"배율"},null,8,["modelValue"])]),_:1})]),_:1}))]),_:1}),e(B,{class:"d-flex justify-end flex-wrap gap-3 mt-2"},{default:o(()=>[l(g)?(v(),x(k,{key:0,onClick:$},{default:o(()=>[w(" 수정 ")]),_:1})):h("",!0),l(g)?(v(),x(k,{key:1,onClick:X},{default:o(()=>[w(" 삭제 ")]),_:1})):(v(),x(k,{key:2,onClick:F},{default:o(()=>[w(" 추가 ")]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(T,{modelValue:l(C),"onUpdate:modelValue":a[11]||(a[11]=t=>p(C)?C.value=t:null),location:"top",timeout:3e3,color:"warning"},{default:o(()=>[e(U,{density:"compact",type:"warning",title:"warning!",text:"초과 근무 종류, 배율을 확인해주세요."})]),_:1},8,["modelValue"]),e(T,{modelValue:l(f),"onUpdate:modelValue":a[12]||(a[12]=t=>p(f)?f.value=t:null),location:"top",timeout:3e3,color:"success"},{default:o(()=>[e(U,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}});export{Me as default};
