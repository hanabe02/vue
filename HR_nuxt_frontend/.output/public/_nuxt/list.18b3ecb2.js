import{b as f}from"./index.c17c83dc.js";import{e as N}from"./index.3010be99.js";import{a as y}from"./axios.28bc18a3.js";import{d as T,u as x,r as s,o as A,a as B,b as M,e as o,w as n,V,g as E,f as P,i as t}from"./entry.0516b5e8.js";import{u as R}from"./emp.b2d779b9.js";import{V as v}from"./VSelect.c3f72c74.js";import{V as Y}from"./VDataTable.781ea32f.js";import{V as C,a as H}from"./VCard.c238dd74.js";import"./index.010e4494.js";import"./VCheckboxBtn.759eed6f.js";import"./VDivider.c8eb66ff.js";import"./VMenu.8605d140.js";import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";const O=t("h1",{class:"mb-6"},"인사고과 조회",-1),U=t("br",null,null,-1),j=t("span",null,"근태",-1),q=t("p",null,"결근 없음, +20 / 1~2일 결근, +16 / 3~4일 결근, +12 / 5일 이상 결근, +8 / 자주 지각, +10 이하",-1),z=t("span",null,"직급",-1),F=t("p",null,"사원, +10 / 대리, +12 / 과장, +15 / 차장, +18 / 부장 이상, +20",-1),I=t("span",null,"결격(징계 등)여부",-1),G=t("p",null,"결격 사유 없음, +10 / 결격 사유 있음, +0",-1),J=t("span",null,"교육이수",-1),K=t("p",null,"직무 관련 교육 이수, +10 / 일부 관련 자격증 보유, +6 / 자격증 없음, +0",-1),Q=t("span",null,"근속년수",-1),W=t("p",null,"10년 이상, +10 / 5~9년 근속, +7 / 1~4년 근속, +5 / 1년 미만 근속, +2",-1),X=t("span",null,"자격증",-1),Z=t("p",null,"직무 관련 자격증 보유, +10 / 일부 관련 자격증 보유, +6 / 자격증 없음, +0",-1),$=t("span",null,"휴가 사용",-1),ee=t("p",null,"휴가 사용 적절, +10 / 과도한 휴가 사용, +5 / 휴가 사용 적지 않음, +2",-1),te=t("span",null,"등급산정",-1),ae=t("p",null," 90점 이상, S / 90점 미만 ~ 80점 이상, A / 80점 미만 ~ 70점 이상, B / 70점 미만 ~ 60점 이상, C / 60점 미만 ~ 50점 이상, D / 50점 미만, E ",-1),ye=T({__name:"list",setup(le){const L=x(),i=R();i.loadEmpCode(),console.log("현재 로그인된 직원 코드:",i.empCode),i.empCode!=="EMP-01"&&i.empCode!=="EMP-00"&&L.push("/hr/confinement/unauthorized");const r=N(),c=s(""),u=s(""),m=s(""),h=s([]),p=s([]),d=s([]),_=s([]),k=async()=>{await f().FETCH_YEARLIST();const e=f().yearList;h.value=e?Object.values(e).map(a=>a.year):[]},g=[{title:"이름",key:"empName"},{title:"부서",key:"deptName"},{title:"직급",key:"positionName"},{title:"교육",key:"durationOfTraining"},{title:"자격증",key:"numberOfCertificate"},{title:"근태",key:"numberOfRestDay"},{title:"휴가",key:"remainingHoliday"},{title:"결격여부",key:"disqualification"},{title:"장기근속",key:"career"},{title:"총 점수",key:"score"},{title:"등급",key:"grade"}],b=async()=>{try{const e=await y.get("http://localhost:8282/hr/base/deptList");console.log("vava",e.data);const a=e.data.deptlist;p.value=a.map(l=>({title:l.deptName,value:l.deptCode})),console.log("[deptList]",p.value)}catch(e){console.error(e)}},D=async()=>{try{const e=await y.get("http://localhost:8282/hr/affair/emp");console.log("gaga",e.data);const a=e.data.empList;d.value=a.map(l=>({title:l.empName,value:l.empCode})),console.log("[empList]",d.value)}catch(e){console.error(e)}},w=async()=>{const e={searchYear:c.value,empCode:u.value};await r.SEARCH_EMP_EVAL(e),_.value=await r.evalList},S=async()=>{const e={searchYear:c.value,deptCode:m.value};console.log(e),await r.SEARCH_EMP_EVAL_DEPT(e),_.value=await r.evalList};return A(()=>{k(),b(),D()}),(e,a)=>(B(),M("div",null,[O,o(C,null,{default:n(()=>[o(v,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=l=>c.value=l),class:"ma-3",label:"검색년도",items:h.value,variant:"outlined"},null,8,["modelValue","items"]),o(v,{modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=l=>m.value=l),class:"ma-3",label:"부서명",items:p.value,variant:"outlined"},null,8,["modelValue","items"]),o(v,{modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=l=>u.value=l),class:"ma-3",label:"사원명",items:d.value,variant:"outlined"},null,8,["modelValue","items"]),o(V,{class:"ml-3",color:"primary",onClick:w},{default:n(()=>[E(" 사원 조회 ")]),_:1}),o(V,{class:"ml-3",variant:"tonal",onClick:S},{default:n(()=>[E(" 부서 조회 ")]),_:1}),o(P(Y),{class:"mt-10",headers:g,items:_.value},null,8,["items"])]),_:1}),U,o(C,{title:"<등급 산정 기준>"},{default:n(()=>[o(H,null,{default:n(()=>[j,q,z,F,I,G,J,K,Q,W,X,Z,$,ee,te,ae]),_:1})]),_:1})]))}});export{ye as default};
