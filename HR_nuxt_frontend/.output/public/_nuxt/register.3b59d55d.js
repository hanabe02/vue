import{_ as I}from"./AppTextField.vue.badc1057.js";import{_ as T}from"./AppDateTimePicker.vue.b5a9ee0a.js";import{d as A}from"./index.7541d931.js";import{d as E,u as N,r as u,c as P,m as R,a as F,b as U,e as t,w as l,i as w,f as n,k as y,V as _,h as g,g as V,t as B,F as Y}from"./entry.0516b5e8.js";import{u as j}from"./emp.b2d779b9.js";import{a as z,V as M}from"./VCard.c238dd74.js";import{V as b}from"./VCol.c943daa7.js";import{V as $}from"./VSpacer.40be0b68.js";import{V as q}from"./VDivider.c8eb66ff.js";import{V as O}from"./VDataTable.781ea32f.js";import{V as G}from"./VAlert.d201ec9e.js";import{V as H}from"./VSnackbar.06ffd08c.js";import"./VCheckboxBtn.759eed6f.js";import"./index.010e4494.js";import"./axios.28bc18a3.js";import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";/* empty css              */import"./VSelect.c3f72c74.js";import"./VMenu.8605d140.js";const J=w("h1",{class:"mb-6"},"일용근로 급여등록",-1),K={style:{"inline-size":"10rem"}},Q={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ge=E({__name:"register",setup(W){const h=N(),p=j();p.loadEmpCode(),console.log("현재 로그인된 직원 코드:",p.empCode),p.empCode!=="EMP-01"&&p.empCode!=="EMP-00"&&h.push("/hr/confinement/unauthorized");const d=u(""),s=u(!1),i=A(),r=u(""),k=u([]),c=u([]),v=[{title:"사번",key:"employeeId",align:"center"},{title:"직원명",key:"employeeName",align:"center"},{title:"총 급여",key:"totalPay",align:"center"},{title:"정상급여",key:"normalPay",align:"center"},{title:"연장급여",key:"overtimePay",align:"center"},{title:"야간급여",key:"nightPayRate",align:"center"}],f=async()=>{const a={date:r.value,deadline:"N",status:"N"};await i.FIND_SALARY_LIST(a),k.value=await i.dailyLaborSalaryList},S=async()=>{const a={workDate:r.value};await i.INSERT_SALARY_LIST(a),await f(),s.value=!0},D=async()=>{const a=[];c.value.forEach(e=>{const m={employeeId:e.employeeId,workDate:e.workDate.substring(0,10)};a.push(m)}),await i.UPDATE_SALARY_LIST(a),await f(),s.value=!0},L=async()=>{const a=[];c.value.forEach(e=>{const m={employeeId:e.employeeId,workDate:e.workDate.substring(0,10)};a.push(m)}),await i.DELETE_SALARY_LIST(a),await f(),s.value=!0},x=P(()=>k.value.filter(a=>Object.values(a).some(e=>typeof e=="string"?e.toLowerCase().includes(d.value.toLowerCase()):!1)));return R([r],f,{immediate:!0}),(a,e)=>{const m=I,C=T;return F(),U(Y,null,[J,t(M,null,{default:l(()=>[t(z,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[t(b,null,{default:l(()=>[w("div",K,[t(m,{modelValue:n(d),"onUpdate:modelValue":e[0]||(e[0]=o=>y(d)?d.value=o:null),density:"compact",placeholder:"검색","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:""},null,8,["modelValue"])])]),_:1}),t($),t(b,{md:"2"},{default:l(()=>[t(C,{modelValue:n(r),"onUpdate:modelValue":e[1]||(e[1]=o=>y(r)?r.value=o:null),placeholder:"급여등록 날짜 검색"},null,8,["modelValue"])]),_:1}),w("div",Q,[t(_,{onClick:S},{default:l(()=>[t(g,{start:"",icon:"tabler-checkbox"}),V("생성 ")]),_:1}),t(_,{onClick:D},{default:l(()=>[t(g,{start:"",icon:"tabler-checkbox"}),V("등록 ")]),_:1}),t(_,{onClick:L},{default:l(()=>[t(g,{start:"",icon:"tabler-square-x"}),V("삭제 ")]),_:1})])]),_:1}),t(q),t(n(O),{modelValue:n(c),"onUpdate:modelValue":e[2]||(e[2]=o=>y(c)?c.value=o:null),headers:v,items:n(x),"items-per-page":5,"footer-props":{"items-per-page-options":[5,10,20],"show-current-page":!0,"show-first-last-page":!0},"show-select":"","item-value":"employeeId","return-object":""},{"item.deptName":l(({item:o})=>[V(B(o.deptName),1)]),_:1},8,["modelValue","items"])]),_:1}),t(H,{modelValue:n(s),"onUpdate:modelValue":e[3]||(e[3]=o=>y(s)?s.value=o:null),location:"top",timeout:3e3,color:"success"},{default:l(()=>[t(G,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}});export{ge as default};
