import{_ as j}from"./AppSelect.vue.09c264c1.js";import{_ as F}from"./DialogCloseBtn.vue.254a418a.js";import{_ as M}from"./AppTextField.vue.dfd4d735.js";import{s as i}from"./index.15d0fdef.js";import{V as w,a as y}from"./VCard.fffe692b.js";import{V as D}from"./VDivider.d26ec686.js";import{V as N}from"./VRow.32153e51.js";import{V as v}from"./VCol.80a95e6b.js";import{d as R,r as c,c as $,a as U,b as k,j as S,e,w as l,f as a,l as b,V as A,g as E,F as I,u as Y,i as H,n as z,x as W,t as q}from"./entry.03463029.js";import{V as G}from"./VDialog.1a76132d.js";import{V as B}from"./VAlert.34e6bd50.js";import{V as O}from"./VSnackbar.87ec9dcb.js";import{p as J,V as K}from"./VPagination.a86c888e.js";import{b as L}from"./index.029b96c0.js";import{V as Q}from"./VSpacer.b6acb082.js";import{V as X}from"./VDataTable.05c6073e.js";import"./VCheckboxBtn.09401292.js";import"./VSelect.588c9b0b.js";import"./VMenu.e5a18272.js";import"./createSimpleFunctional.7a9430cd.js";import"./VAvatar.d681e4e5.js";import"./index.010e4494.js";import"./axios.28bc18a3.js";/* empty css              */const Z={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ee=R({__name:"SalBaseManageAddModal",props:["fetchData2"],setup(P){const C=P,f=c(!1),p=c(!1),t=c(""),V=c(""),_=c(""),n=c(""),o=$(()=>i().deptList),x=[{value:"POS-01",title:"사장"},{value:"POS-02",title:"이사"},{value:"POS-03",title:"부장"},{value:"POS-04",title:"차장"},{value:"POS-05",title:"과장"},{value:"POS-06",title:"대리"},{value:"POS-07",title:"사원"},{value:"POS-08",title:"인턴"},{value:"POS-09",title:"계약직"}],g=async()=>{const s={deptCode:_.value,positionCode:n.value,baseSalary:t.value,hobongRatio:V.value};Object.values(s).some(u=>u===""||u===null)?p.value=!0:(await i().ADD_BASE_SALARY(s),await C.fetchData2(),i().SET_DIALOG_BTN(!1),f.value=!0)};return(s,u)=>{const r=F,m=j,T=M;return U(),k(I,null,[S("div",Z,[e(G,{modelValue:a(i)().isDialogBtn,"onUpdate:modelValue":u[5]||(u[5]=d=>a(i)().isDialogBtn=d),"max-width":"600"},{default:l(()=>[e(r,{onClick:u[0]||(u[0]=d=>a(i)().SET_DIALOG_BTN(!1))}),e(w,{title:"기준 급여 추가"},{default:l(()=>[e(y,null,{default:l(()=>[e(D,{class:"mb-6"}),e(N,null,{default:l(()=>[e(v,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:a(_),"onUpdate:modelValue":u[1]||(u[1]=d=>b(_)?_.value=d:null),items:a(o),label:"부서명",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:a(n),"onUpdate:modelValue":u[2]||(u[2]=d=>b(n)?n.value=d:null),items:x,label:"직급명",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"6"},{default:l(()=>[e(T,{modelValue:a(t),"onUpdate:modelValue":u[3]||(u[3]=d=>b(t)?t.value=d:null),label:"기본급"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"6"},{default:l(()=>[e(T,{modelValue:a(V),"onUpdate:modelValue":u[4]||(u[4]=d=>b(V)?V.value=d:null),label:"호봉인상률"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(D),e(y,{class:"d-flex justify-end flex-wrap gap-3 mt-2"},{default:l(()=>[e(A,{onClick:g},{default:l(()=>[E(" 추가 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(w),e(O,{modelValue:a(p),"onUpdate:modelValue":u[6]||(u[6]=d=>b(p)?p.value=d:null),location:"top",timeout:3e3,color:"warning"},{default:l(()=>[e(B,{density:"compact",type:"warning",title:"warning!",text:"부서명, 직급명, 기본급, 호봉인상률을 선택해주세요."})]),_:1},8,["modelValue"]),e(O,{modelValue:a(f),"onUpdate:modelValue":u[7]||(u[7]=d=>b(f)?f.value=d:null),location:"top",timeout:3e3,color:"success"},{default:l(()=>[e(B,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}}),ae={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},le=R({__name:"SalBaseManageEditModal",props:["fetchData2"],setup(P){const C=P,f=c(!1),p=c(!1),t=$(()=>c(i().rowList).value),V=async()=>{const n={hobongRatio:t.value.hobongRatio,baseSalary:t.value.baseSalary,positionCode:t.value.positionCode,deptCode:t.value.deptCode};Object.values(n).some(o=>o===""||o===null)?f.value=!0:(await i().EDIT_BASE_SALARY(n),await C.fetchData2(),i().SET_DIALOG(!1),p.value=!0)},_=async()=>{const n={deptCode:t.value.deptCode,positionCode:t.value.positionCode};await i().DELETE_BASE_SALARY(n),await C.fetchData2(),i().SET_DIALOG(!1),p.value=!0};return(n,o)=>{const x=F,g=M;return U(),k(I,null,[S("div",ae,[e(G,{modelValue:a(i)().isDialogVisible,"onUpdate:modelValue":o[6]||(o[6]=s=>a(i)().isDialogVisible=s),"max-width":"600"},{default:l(()=>[e(x,{onClick:o[0]||(o[0]=s=>a(i)().SET_DIALOG(!1))}),e(w,{title:"기준 급여 추가"},{default:l(()=>[e(y,null,{default:l(()=>[e(D,{class:"mb-6"}),e(N,null,{default:l(()=>[e(v,{cols:"12",sm:"4"},{default:l(()=>[e(g,{modelValue:a(t).deptName,"onUpdate:modelValue":o[1]||(o[1]=s=>a(t).deptName=s),label:"부서명",disabled:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"4"},{default:l(()=>[e(g,{modelValue:a(t).deptCode,"onUpdate:modelValue":o[2]||(o[2]=s=>a(t).deptCode=s),label:"직급 번호",disabled:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"4"},{default:l(()=>[e(g,{modelValue:a(t).positionName,"onUpdate:modelValue":o[3]||(o[3]=s=>a(t).positionName=s),label:"직급명",disabled:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"4"},{default:l(()=>[e(g,{modelValue:a(t).baseSalary,"onUpdate:modelValue":o[4]||(o[4]=s=>a(t).baseSalary=s),label:"기본급"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"4"},{default:l(()=>[e(g,{modelValue:a(t).hobongRatio,"onUpdate:modelValue":o[5]||(o[5]=s=>a(t).hobongRatio=s),label:"호봉인상률"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(D),e(y,{class:"d-flex justify-end flex-wrap gap-3 mt-2"},{default:l(()=>[e(A,{onClick:V},{default:l(()=>[E(" 수정 ")]),_:1}),e(A,{onClick:_},{default:l(()=>[E(" 삭제 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(w),e(O,{modelValue:a(f),"onUpdate:modelValue":o[7]||(o[7]=s=>b(f)?f.value=s:null),location:"top",timeout:3e3,color:"warning"},{default:l(()=>[e(B,{density:"compact",type:"warning",title:"warning!",text:"빈칸을 기입해주세요."})]),_:1},8,["modelValue"]),e(O,{modelValue:a(p),"onUpdate:modelValue":o[8]||(o[8]=s=>b(p)?p.value=s:null),location:"top",timeout:3e3,color:"success"},{default:l(()=>[e(B,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}}),te=S("h1",{class:"mb-6"},"기준급여관리",-1),oe={class:"me-3 d-flex gap-3"},se={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ie={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},ne={class:"text-sm text-disabled mb-0"},Oe=R({__name:"manage",setup(P){const C=Y(),f=H("empCode",c(""));console.log("현재 로그인된 직원 코드:",f.value,f),f.value!=="EMP-01"&&f.value!=="EMP-00"&&C.push("/hr/confinement/unauthorized");const p=c(""),t=c([]),V=c([]),_=c([]),n=c({page:1,itemsPerPage:5,sortBy:[""],sortDesc:[!1]}),o=[{title:"부서명",key:"deptName",align:"center"},{title:"직급 번호",key:"positionCode",align:"center"},{title:"직급명",key:"positionName",align:"center"},{title:"기본급",key:"baseSalary",align:"center"},{title:"호봉인상률",key:"hobongRatio",align:"center"}],x=async()=>{await i().SET_DIALOG_BTN(!1),await L().FETCH_DEPTLIST(),await L().FETCH_POSLIST();const r=await L().deptList;t.value=r?Object.values(r).map(m=>({title:m.deptName,value:m.deptCode})):[],_.value=L().posList},g=async()=>{p.value===""||p.value===null?V.value=[]:(await i().FETCH_BASE_SALARY(p.value),V.value=i().baseSalaryList)},s=async()=>{console.log(_.value);const r=_.value?Object.values(_.value).map(m=>({title:m.positionName,value:m.positionCode})):[];await i().SET_POS_LIST(r),await i().SET_DEPT_LIST(t._rawValue),await i().SET_DIALOG_BTN(!0)},u=async r=>{const m={deptName:r.item.deptName,deptCode:r.item.deptCode,positionName:r.item.positionName,baseSalary:r.item.baseSalary,hobongRatio:r.item.hobongRatio,positionCode:r.item.positionCode};await i().SET_ROW_LIST(m),await i().SET_DIALOG(!0)};return z([p],g,{immediate:!0}),W(x),(r,m)=>{const T=j;return U(),k(I,null,[te,e(w,{class:"mb-6"},{default:l(()=>[e(y,null,{default:l(()=>[e(N,null,{default:l(()=>[e(v,{cols:"12",sm:"4"},{default:l(()=>[e(T,{modelValue:a(p),"onUpdate:modelValue":m[0]||(m[0]=d=>b(p)?p.value=d:null),label:"부서",items:a(t),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(w,null,{default:l(()=>[e(y,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[S("div",oe,[e(T,{"model-value":a(n).itemsPerPage,items:[{value:5,title:"5"},{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":m[1]||(m[1]=d=>a(n).itemsPerPage=parseInt(d,10))},null,8,["model-value"])]),e(Q),S("div",se,[e(A,{"prepend-icon":"tabler-plus",onClick:s},{default:l(()=>[E(" 급여 기준 추가 ")]),_:1})])]),_:1}),e(D),e(a(X),{headers:o,items:a(V),"items-per-page":a(n).itemsPerPage,page:a(n).page,options:a(n),"onClick:row":m[3]||(m[3]=(d,h)=>u(h))},{bottom:l(()=>[e(D),e(y,{class:"pt-2"},{default:l(()=>[S("div",ie,[S("p",ne,q(a(J)({page:a(n).page,itemsPerPage:a(n).itemsPerPage},a(V).length)),1),e(K,{modelValue:a(n).page,"onUpdate:modelValue":m[2]||(m[2]=d=>a(n).page=d),"total-visible":r.$vuetify.display.smAndDown?3:5,length:Math.ceil(a(V).length/a(n).itemsPerPage)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1},8,["items","items-per-page","page","options"])]),_:1}),e(le,{"fetch-data2":g}),e(ee,{"fetch-data2":g})],64)}}});export{Oe as default};
