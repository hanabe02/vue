import{_ as H}from"./AppDateTimePicker.vue.b1c2e160.js";import{a as k}from"./axios.28bc18a3.js";import{d as W,u as j,i as E,r as p,o as F,a as A,b as M,e as t,w as l,f as v,g as c,t as $,V as h,F as I,j as r}from"./entry.03463029.js";import{V as P}from"./VContainer.1a8d47b6.js";import{V as q}from"./VCheckboxBtn.09401292.js";import{V as _}from"./VDataTable.05c6073e.js";import{V as g}from"./VCard.fffe692b.js";import{V as s}from"./VSelect.588c9b0b.js";import{V as D}from"./VRow.32153e51.js";import{V as T}from"./VCol.80a95e6b.js";import{V as z}from"./VAlert.34e6bd50.js";import{V as K}from"./VSnackbar.87ec9dcb.js";/* empty css              */import"./VDivider.d26ec686.js";import"./createSimpleFunctional.7a9430cd.js";import"./VAvatar.d681e4e5.js";import"./VMenu.e5a18272.js";const Q=r("h1",{class:"mb-6"},"인사발령 신청",-1),G=r("br",null,null,-1),J=r("div",null,[r("h2",null,"발령 대상자")],-1),ye=W({__name:"request",setup(X){const S=j(),u=E("empCode",p(""));console.log("현재 로그인된 직원 코드:",u.value,u),u.value!=="EMP-01"&&u.value!=="EMP-00"&&S.push("/hr/confinement/unauthorized");const U=[{title:"사번",key:"empCode"},{title:"직원명",key:"empName"},{title:"부서이름",key:"deptName"}],b=[{title:"대기발령",key:"DPT-00"},{title:"총무부",key:"DPT-01"},{title:"영업부",key:"DPT-02"},{title:"생산부",key:"DPT-03"},{title:"구매부",key:"DPT-04"},{title:"인사부",key:"DPT-05"},{title:"개발부",key:"DPT-07"},{title:"기획부",key:"DPT-08"},{title:"홍보부",key:"DPT-09"},{title:"기술부",key:"DPT-10"},{title:"파견부서",key:"DPT-11"}],O=[{title:"(주)세계전자 본사",key:"BRC-01"},{title:"(주)세계전자 울산지점",key:"BRC-02"}],C=[{title:"사원이름",key:"empName"},{title:"근무부서",key:"deptName"},{title:"근무지",key:"workPlaceName"},{title:"직급",key:"positionName"},{title:"발령부서",key:"appointDept"},{title:"발령근무지",key:"appointWP"},{title:"승진직급",key:"appointLevel"},{title:"호봉승급",key:"appointHobong"},{title:"발령",key:"appointType"},{title:"발령일",key:"appointDate"}],w=[{title:"사장",value:"POS-01"},{title:"이사",value:"POS-02"},{title:"부장",value:"POS-03"},{title:"차장",value:"POS-04"},{title:"과장",value:"POS-05"},{title:"대리",value:"POS-06"},{title:"사원",value:"POS-07"},{title:"인턴",value:"POS-08"},{title:"계약직",value:"POS-09"}],V=[];for(let o=1;o<=30;o++)V.push({title:`${o}호봉`,key:`HB-${o.toString().padStart(2,"0")}`});const N=[{title:"승진",key:"promoted"},{title:"전근",key:"transfer"},{title:"전보",key:"transference"},{title:"퇴직",key:"retirement"}],m=p(!1),y=p([]),n=p([]),d=p(""),L=p({enabled:!0,trigger:"enter",skipDiacrities:!0,placeholder:"직원 정보"}),f=async()=>{try{const o=await k.get("http://localhost:8282/hr/affair/emp");console.log("[empList]",o.data.empList),y.value=o.data.empList}catch(o){console.error(o)}},x=async()=>{console.log(n.value),console.log("발령을 등록합니다.");try{await k.post("http://localhost:8282/hr/affair/appoint",n.value),n.value=[],f(),m.value=!0}catch(o){console.error("발령 등록 에러: ",o)}},B=()=>{console.log("발령 신청을 취소합니다."),n.value=[]};return F(()=>{f()}),(o,i)=>{const R=H;return A(),M(I,null,[Q,t(g,null,{default:l(()=>[t(P,null,{default:l(()=>[t(q,{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=e=>d.value=e),density:"compact",placeholder:"직원 정보 검색","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:"",onInput:L.value},null,8,["modelValue","onInput"]),t(v(_),{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=e=>n.value=e),headers:U,items:y.value,"items-per-page":5,"footer-props":{"items-per-page-options":[5,10,20],"show-current-page":!0,"show-first-last-page":!0},search:d.value,align:"center","show-select":"","item-value":"empCode","return-object":""},{"item.deptName":l(({item:e})=>[c($(e.deptName),1)]),_:1},8,["modelValue","items","search"])]),_:1})]),_:1}),G,J,t(g,null,{default:l(()=>[t(P,null,{default:l(()=>[t(v(_),{headers:C,items:n.value},{"item.appointDept":l(({item:e})=>[t(s,{modelValue:e.appointDept,"onUpdate:modelValue":a=>e.appointDept=a,items:b},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointWP":l(({item:e})=>[t(s,{modelValue:e.appointWP,"onUpdate:modelValue":a=>e.appointWP=a,items:O},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointLevel":l(({item:e})=>[t(s,{modelValue:e.appointLevel,"onUpdate:modelValue":a=>e.appointLevel=a,items:w},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointHobong":l(({item:e})=>[t(s,{modelValue:e.appointHobong,"onUpdate:modelValue":a=>e.appointHobong=a,items:V},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointType":l(({item:e})=>[t(s,{modelValue:e.appointType,"onUpdate:modelValue":a=>e.appointType=a,items:N},null,8,["modelValue","onUpdate:modelValue"])]),"item.appointDate":l(({item:e})=>[t(D,null,{default:l(()=>[t(T,null,{default:l(()=>[t(R,{modelValue:e.appointDate,"onUpdate:modelValue":a=>e.appointDate=a,"show-adjacent-months":"","show-decade-navs":"","button-only":"",right:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),t(D,null,{default:l(()=>[t(T,null,{default:l(()=>[t(h,{class:"ma-2",color:"primary",onClick:x},{default:l(()=>[c(" 등록 ")]),_:1}),t(h,{color:"secondary",onClick:B},{default:l(()=>[c(" 취소 ")]),_:1})]),_:1})]),_:1}),t(K,{modelValue:m.value,"onUpdate:modelValue":i[2]||(i[2]=e=>m.value=e),location:"top",timeout:3e3,color:"success"},{default:l(()=>[t(z,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}});export{ye as default};
