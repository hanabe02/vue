import{a as h}from"./index.b416cb81.js";import{d as g,u as y,r as d,o as V,a as N,b as k,e as l,w as t,f as v,g as o,t as a,i as C}from"./entry.0516b5e8.js";import{u as _}from"./emp.b2d779b9.js";import{V as w}from"./VCheckboxBtn.759eed6f.js";import{V as P}from"./VDataTable.781ea32f.js";import{V as E}from"./VCard.c238dd74.js";import"./index.010e4494.js";import"./axios.28bc18a3.js";import"./VDivider.c8eb66ff.js";import"./VSelect.c3f72c74.js";import"./VMenu.8605d140.js";import"./createSimpleFunctional.63f646df.js";import"./VAvatar.dac40cd4.js";const S=C("h1",{class:"mb-6"},"인사발령 이력",-1),z=g({__name:"log",setup(b){const u=y(),p=_();p.loadEmpCode(),console.log("현재 로그인된 직원 코드:",p.empCode),p.empCode!=="EMP-01"&&p.empCode!=="EMP-00"&&u.push("/hr/confinement/unauthorized");const n=h(),s=d(""),c=[{title:"발령번호",key:"appointNo"},{title:"사번",key:"empCode"},{title:"직원명",key:"empName"},{title:"부서",key:"deptName"},{title:"발령부서",key:"appointDept"},{title:"직급",key:"positionName"},{title:"발령직급",key:"appointLevel"},{title:"근무지",key:"workPlaceName"},{title:"발령근무지",key:"appointWP"},{title:"승인상태",key:"status"}],m=d([]);V(async()=>{try{await n.FETCH_APPOINT_LOG(),m.value=n.all_appointments_log}catch(i){console.error("Failed to fetch appointments log",i)}});const f=()=>{console.log("Searching:",s.value)};return(i,r)=>(N(),k("div",null,[S,l(E,{class:"mt-3"},{default:t(()=>[l(w,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=e=>s.value=e),density:"compact",placeholder:"직원 정보 검색","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:"",onInput:f},null,8,["modelValue"]),l(v(P),{modelValue:i.selectedRows,"onUpdate:modelValue":r[1]||(r[1]=e=>i.selectedRows=e),headers:c,items:m.value,"items-per-page":5,"footer-props":{"items-per-page-options":[5,10,20],"show-current-page":!0,"show-first-last-page":!0},search:s.value,align:"center","show-select":"","item-value":"appointNo","return-object":""},{"item.empCode":t(({item:e})=>[o(a(e.empCode),1)]),"item.empName":t(({item:e})=>[o(a(e.empName),1)]),"item.deptName":t(({item:e})=>[o(a(e.deptName),1)]),"item.appointDept":t(({item:e})=>[o(a(e.appointDept),1)]),"item.appointWP":t(({item:e})=>[o(a(e.appointWP),1)]),"item.appointLevel":t(({item:e})=>[o(a(e.appointLevel),1)]),"item.status":t(({item:e})=>[o(a(e.status),1)]),_:1},8,["modelValue","items","search"])]),_:1})]))}});export{z as default};
